var sc = require('../lib/soundcloud-api-wrapper.js')('8ff944986fd051ff994fa25186dd731a');

/*
  ======== A Handy Little Nodeunit Reference ========
  https://github.com/caolan/nodeunit
*/

exports['getTimeStamp'] = {
    'now': function (test) {
        var now = new Date().getTime();
        var d = sc.getTimestamp(now);
        test.ok(d, 'should return something');
        test.done();
    }
};

var user_id = '871952'; // Meshach Jackson
exports['get.users'] = {
    'users.id': function (test) {
        sc.get.users.id(user_id, function (e, data) {
            test.equal(data.kind, 'user', 'should return data');
            test.ok(data.uri, 'should return with uri');
            test.ok(data.username, 'should return with uri');
            test.ok(data.permalink, 'should return with uri');
            test.done();
        });
    }
    , 'users.tracks': function (test) {
        sc.get.users.tracks(user_id, function (e, data) {
            test.equal(data[0].kind, 'track', 'should return tracks');
            test.done();
        });
    }
    , 'users.comments': function (test) {
        sc.get.users.comments(user_id, function (e, data) {
            test.equal(data[0].kind, 'comment', 'should return comments');
            test.done();
        });
    }
    , 'users.playlists': function (test) {
        sc.get.users.playlists(user_id, function (e, data) {
            test.equal(data[0].kind, 'playlist', 'should return playlists');
            test.done();
        });
    }
    , 'users.groups': function (test) {
        sc.get.users.groups(user_id, function (e, data) {
            test.equal(data[0].kind, 'group', 'should return groups');
            test.done();
        });
    }
    , 'users.followers': function (test) {
        sc.get.users.followers(user_id, function (e, data) {
            test.equal(data[0].kind, 'user', 'should return users');
            test.done();
        });
    }
    , 'users.favorites': function (test) {
        sc.get.users.favorites(user_id, function (e, data) {
            test.equal(data[0].kind, 'track', 'should return favorites');
            test.done();
        });
    }
    , 'users.web_profiles': function (test) {
        sc.get.users.web_profiles(user_id, function (e, data) {
            test.equal(data[0].kind, 'web-profile', 'should return web-profiles');
            test.done();
        });
    }
};

var track_id = '18989412'; // "Smile" by Meshach Jackson
exports['get.tracks'] = {
    'tracks.id': function (test) {
        sc.get.tracks.id(track_id, function (e, data) {
            test.ok(data, 'should return data');
            test.done();
        });
    }
    , 'tracks.comments': function (test) {
        sc.get.tracks.comments(track_id, function (e, data) {
            test.ok(data, 'should return data');
            test.done();
        });
    }
    , 'tracks.favoriters': function (test) {
        sc.get.tracks.favoriters(track_id, function (e, data) {
            test.ok(data, 'should return data');
            test.done();
        });
    }
    , 'tracks.shared_users': function (test) {
        sc.get.tracks.shared_users(track_id, function (e, data) {
            test.ok(data, 'should return data');
            test.done();
        });
    }
    , 'tracks.shared_emails': function (test) {
        sc.get.tracks.shared_emails(track_id, function (e, data) {
            test.ok(data, 'should return data');
            test.done();
        });
    }
    , 'tracks.secret_token': function (test) {
        sc.get.tracks.secret_token(track_id, function (e, data) {
            test.ok(data, 'should return data');
            test.done();
        });
    }
};